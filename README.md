# ブレーカー・素材選定アプリ (ブレーカーは切込み/送り量, 素材は加工種別+切削速度)

本サンプルでは、

- **ブレーカー**: 切込み最小/推奨/最大, 送り量最小/推奨/最大, 特徴
- **素材**: 加工種別, 切削速度最小/推奨/最大, 特徴

という2つのテーブル (breakers / materials) を用意し、
ユーザーが入力した
1) 切込み(mm)
2) 送り量(mm/rev)
3) 切削速度(m/min)
4) 加工種別
5) 追加要望(特徴)

にもとづいて

- ブレーカーは「入力切込みが最小～最大内」「入力送り量が最小～最大内」で絞り込む
- 素材は「加工種別が一致」「入力切削速度が最小～最大内」で絞り込む

というAND条件検索を行います。

最後に、GPT（ChatCompletion API）へ候補リストを渡し、
「最適なブレーカーと素材の組み合わせ」を1つずつ提案してもらいます。

## 実行手順

1. `pip install -r requirements.txt`  
2. `dummy_data_breaker.xlsx`, `dummy_data_material.xlsx` を編集（またはサンプルデータを用意）  
3. `python setup_db.py` → `cutting_selection.db` が生成され、2テーブルにデータINSERT  
4. `streamlit run main.py` → ブラウザが開く  
5. サイドバーに **OpenAI APIキー** を入力  
6. チャット欄に「切込み」「送り量」「切削速度」「加工種別」「追加要望」の順で入力すると、GPTから組み合わせ提案を得られます。
